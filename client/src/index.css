@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Accessibility variables with defaults */
    --a11y-font-scale: 1;
    --a11y-font-family: var(--font-sans);
    --a11y-line-height: 1.5;
    --a11y-letter-spacing: 0px;
  }

  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

/* Apply accessibility settings to text elements */
html {
  font-size: calc(16px * var(--a11y-font-scale));
}

body, p, h1, h2, h3, h4, h5, h6, span, button, a, li, input, select, textarea {
  font-family: var(--a11y-font-family);
  line-height: var(--a11y-line-height);
  letter-spacing: var(--a11y-letter-spacing);
}

/* Enhanced focus styles */
.enhanced-focus *:focus {
  outline: 3px solid hsl(var(--primary)) !important;
  outline-offset: 3px !important;
}

/* Reduced motion settings */
.reduced-motion * {
  transition-duration: 0.001ms !important;
  animation-duration: 0.001ms !important;
  animation-iteration-count: 1 !important;
}

/* Display visual keyboard focus indicators */
.enhanced-focus *:focus-visible {
  box-shadow: 0 0 0 3px hsl(var(--primary)) !important;
}

/* High Contrast Theme - Applied in combination with dark/light mode */
.high-contrast.light {
  --primary: 240 100% 50%;
  --primary-foreground: 0 0% 100%;
  --foreground: 0 0% 0%;
  --background: 0 0% 100%;
  --muted: 0 0% 85%;
  --muted-foreground: 0 0% 0%;
  --border: 0 0% 0%;
}

.high-contrast.dark {
  --primary: 240 100% 60%;
  --primary-foreground: 0 0% 100%;
  --foreground: 0 0% 100%;
  --background: 0 0% 0%;
  --muted: 0 0% 20%;
  --muted-foreground: 0 0% 100%;
  --border: 0 0% 100%;
}

/* Dyslexic font fallback */
@font-face {
  font-family: "Open Dyslexic";
  src: url("https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/woff/OpenDyslexic-Regular.woff") format("woff");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}